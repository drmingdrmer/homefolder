#!/bin/sh

git_branch_default_remote()
{
    local branchname=$1
    git config --get branch.${branchname}.remote
}

for b in $@
do
    rem=$(git_branch_default_remote $b)
    test -n "$rem" || { echo "remote not found for $b"; exit 1; }
    git push $rem :$b \
        && git branch -D "$b"
done

